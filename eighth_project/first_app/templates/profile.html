{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block body %}
<h1>Welcome to profile</h1>
<h1>Hello {{user}} </h1>
{% if messages %} {% for m in messages %}
    <p><small {% if m.tags %} class="bg-success p-3 text-white" {% endif %} > {{m}} </small></p>
    <br>
    {% endfor %}
{% endif %}

<p><a class="btn btn-info" href="{% url 'passchange' %} ">change password</a> <a class="btn btn-warning" href="{% url 'passchange2' %} ">change password without old password</a></p>

<form method="post" action="" style="width: 50%; margin: auto" novalidate>
    {% csrf_token %}
    {% if form.non_field_errors %}
      {% for er in form.non_field_errors %}
        <p class="bg-danger text-white">{{er}}</p>
      {% endfor %}
    {% endif %}
    <!-- {{form|crispy}} -->
    {% for fm in form%} {{fm.label_tag}} {{fm}} {{fm.errors|striptags}} 
    {% endfor %}
    <br />
    <button class="btn btn-warning" type="submit">Change Data</button>
  </form>
{% endblock %}